(()=>{"use strict";var t;(t=jQuery)(document).ready((function(){const i=t("#plugin-action-spinner"),n=t(".enpii-plugins-installer__table tbody");function s(n,s,a,e){i.css({display:"flex",opacity:"1"}),n.text(`${s}ing...`).prop("disabled",!0),t.post(ajaxurl,a).done((t=>{t.success&&e&&n.replaceWith(`<span class="enpii-plugins-installer__status-text enpii-plugins-installer__status-text--active">${e}</span>`),setTimeout((()=>location.reload()),100)})).fail((()=>{n.text(`${s} Failed`).css("background-color","red").prop("disabled",!1)})).always((()=>(i.css("opacity","0"),void setTimeout((()=>i.css("display","none")),500))))}t(".enpii-plugins-installer__tabs a").on("click",(function(i){i.preventDefault();const s=t(this).parent().attr("class");t(".enpii-plugins-installer__tabs a").removeClass("current"),t(this).addClass("current"),n.find("tr").each((function(){const i=t(this),n=i.find(".enpii-plugins-installer__status").attr("class").split("--")[1];"all"===s||n===s?i.show():i.hide()}))})),t(document).on("click",".enpii-plugins-installer__button--install",(function(){s(t(this),"Install",{action:"enpii_install_plugin",plugin_slug:t(this).data("slug")})})),t(document).on("click",".enpii-plugins-installer__button--activate",(function(){s(t(this),"Activate",{action:"enpii_activate_plugin",plugin_path:t(this).data("path"),plugin_file:t(this).data("file")},"Activated")})),t(document).on("click",".enpii-plugins-installer__button--deactivate",(function(){s(t(this),"Deactivate",{action:"enpii_deactivate_plugin",plugin_path:t(this).data("path"),plugin_file:t(this).data("file")},"Deactivated")})),function(){const i={all:0,active:0,inactive:0,mustuse:0,"not-installed":0};n.find("tr").each((function(){const n=t(this).find(".enpii-plugins-installer__status").attr("class").split("--")[1];i.hasOwnProperty(n)&&i[n]++,i.all++})),t(".enpii-plugins-installer__tabs .all .count").text(`(${i.all})`),t(".enpii-plugins-installer__tabs .active .count").text(`(${i.active})`),t(".enpii-plugins-installer__tabs .inactive .count").text(`(${i.inactive})`),t(".enpii-plugins-installer__tabs .mustuse .count").text(`(${i.mustuse})`)}()}))})();